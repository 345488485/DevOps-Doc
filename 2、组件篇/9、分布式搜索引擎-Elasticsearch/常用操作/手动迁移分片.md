````shell
重新分配失败的分片

POST /_cluster/reroute?retry_failed=true
````

手动迁移分片

1、禁用分片分配

````shell
PUT /_cluster/settings
{
  "transient" : {
     "cluster.routing.allocation.enable" : "none"
  }
}
````

2、手动迁移分片

````shell
POST /_cluster/reroute
{
 "commands" : [
  {
   "move" : {
    "index" : "index_parkingorder_v1", 
    "shard" : 3,
    "from_node" : "192.168.130.77", 
    "to_node" : "192.168.130.78"
   }
  }
 ]
}
````

3、查看shard迁移状态

````shell
GET _cat/shards?v
````

4、shard迁移完成后，重新启用分片分配

````shell
PUT /_cluster/settings
{
 "transient" : {
  "cluster.routing.allocation.enable" : "all"
 }
}
````

